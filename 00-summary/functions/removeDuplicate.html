<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>基于BOOTSTRAP的HTML模板</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="renderer" content="webkit">
  <link rel="stylesheet" href="../../bootstrap-3.3.6/dist/css/bootstrap.css"/>
  <!--[if lt IE 9]>
    <script src="../../bootstrap-3.3.6/dist/js/html5shiv.min.js"></script>
    <script src="../../bootstrap-3.3.6/dist/js/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<h1>使用至少4种方式实现数组去重</h1>
<ul>
    <li>removeDuplicationUseHash，利用hash表，速度快，浪费内存</li>
    <li>removeDuplicationNormal，利用indexOf，效率一般，节约内存</li>
    <li>removeDuplicationUseTrick，利用indexOf，但使用一种装逼的逻辑</li>
    <li>removeDuplicationUseSort，利用js的sort方法，效率较高，节约内存</li>
</ul>
<p>
    <a href="../index.html">返回首页</a>
</p>


<script src="../../common/jquery-1.12.4.js"></script>
<script src="../../bootstrap-3.3.6/dist/js/bootstrap.js"></script>
<script>
var arr = ["","","","","","","","","","","","fbx_upload_file_201610212104022431321.FBX","","","fbx_upload_file_201610212104305280309.FBX","","","fbx_upload_file_201610212104226384885.FBX","","","fbx_upload_file_201610212103536413357.FBX","","","fbx_upload_file_201610212105177246901.FBX","","","fbx_upload_file_201610212104526130828.FBX","","","fbx_upload_file_201610212103306076476.FBX","","","fbx_upload_file_201610212055106098842.FBX","","","fbx_upload_file_201610212055546878241.FBX","","","fbx_upload_file_201610212056065527324.FBX","","","fbx_upload_file_201610212056322340381.FBX","","","fbx_upload_file_201610212104401203175.FBX","","","fbx_upload_file_201610212103427641270.FBX","","","fbx_upload_file_201610212105049157348.FBX","","","fbx_upload_file_201610212104131785293.FBX","","","fbx_upload_file_201610212101268409439.FBX","","","fbx_upload_file_201610212103164509835.FBX",""]
function removeDuplicationUseHash(arr){
    //  利用hash数组去重
    var hash = {};
    var newArr = [];
    for(var i = 0; i < arr.length; i++ ){
        if(!hash[arr[i]]){
            hash[arr[i]] = 1;
            newArr.push(arr[i]);
        }
    }
    return newArr;
}
function removeDuplicationNormal( arr ){
    //  使用indexOf查找
    var newArr = [ arr[0] ];
    for( var i = 1; i < arr.length; i++ ){
        if( newArr.indexOf( arr[i] ) === -1 ){
            newArr.push( arr[i] );
        }
    }
    return newArr;
}
function removeDuplicationUseTrick( arr ){
    //  如果数组中第i个位置的元素在数组中第一次出现的位置不是i，则说明该数是重复的，否则压入新数组
    var newArr = [ arr[0] ];
    for( var i = 1; i < arr.length; i++){
        if( arr.indexOf( arr[i] ) === i ){
            newArr.push( arr[i] );
        }
    }
    return newArr;
}
function removeDuplicationUseSort( arr ){
    //  使用js自带的sort方法，先排序，之后再比较相邻两个是否一样，不一样压入新数组
    //  sort在js引擎内部是利用快速排序实现的，故效率要高于使用indexOf的方法，但低于使用hash的方法
    arr.sort();
    var newArr = [ arr[0] ];
    for( var i = 1; i < arr.length; i++ ){
        if( arr[ i ] !== newArr[ newArr.length -1 ] ){
            newArr.push( arr[i] );
        }
    }
    return newArr;
}
var newArr = removeDuplicationUseSort(arr);
console.error(arr);
console.log(newArr);
</script>
</body>
</html>